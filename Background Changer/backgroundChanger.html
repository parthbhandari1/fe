<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Background Beautifier JS</title>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="backgroundChanger.css">
</head>
<body>
	<div id="wrapper">
		<div id="changer">

			<div class="content">
				<h1>Write 5 color names then click on the button!</h1>
				<input type="text" placeholder="Enter a valid color(name, hex, rgb or rgba)" autofocus>
				<button class="smallButton">Add Color</button>
			</div>

			<div class="colorTable">
				
			</div>

			<div class="arrow">
				<span hidden><i class="fa-solid fa-angle-left moving"></i></span>
			</div>

			<button class="bigButton" disabled>Beautify the Background</button>

		</div>
	</div>

	<script type="text/javascript">
		
		let addColorBtn = document.querySelector(".content button");
		let colorInput = document.querySelector(".content input");
		let colors = [];
		let i = 0;

		addColorBtn.onclick = () => {
			if (colorInput.value.length === 0) {
				alert("Warning! First enter a color.");
			} 

			else if (colors.length == 5) {
				colorInput.setAttribute("disabled","disabled");
				addColorBtn.setAttribute("disabled","disabled");
				document.querySelector(".smallButton").style.cssText = "pointer-events: none;";
				document.querySelector(".bigButton").removeAttribute("disabled");
				document.querySelector(".bigButton").style.cssText = "pointer-events: all;";
			}

			else {
				let elem = document.createElement("p");
				elem.innerHTML = colorInput.value;
				document.querySelector(".colorTable").appendChild(elem);
				colors.push(colorInput.value);
				console.log(colors);
				colorInput.value = "";
				colorInput.focus();
			}

			document.querySelector(".bigButton").onclick = () => {
				setInterval(() => {
					document.querySelector("#changer").style.cssText = "background-color: #fff";
					document.body.style.cssText = "background-color: "+colors[i++];
				}, 3000);
			}
		}
			

	</script>

</body>
</html>